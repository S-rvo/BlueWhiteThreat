
==============================
🟢 MongoSH Cheat Sheet - Base
==============================

🔌 Connexion
------------
mongosh
mongosh "mongodb://host:port"
mongosh "mongodb+srv://user:pass@cluster.mongodb.net/db"

🗃️ Bases de données
---------------------
show dbs
use nom_de_la_db
db
db.dropDatabase()

📁 Collections
---------------------
show collections
db.createCollection("nom")
db.nom.drop()

✍️ CRUD – Créer, Lire, Modifier, Supprimer
-------------------------------------------

➤ Créer
db.users.insertOne({ name: "Alice", age: 30 })
db.users.insertMany([{ name: "Bob" }, { name: "Charlie" }])

➤ Lire
db.users.find()
db.users.findOne({ name: "Alice" })
db.users.find({ age: { $gt: 25 } })
db.users.find().pretty()

➤ Mettre à jour
db.users.updateOne({ name: "Alice" }, { $set: { age: 31 } })
db.users.updateMany({ age: { $lt: 25 } }, { $inc: { age: 1 } })

➤ Supprimer
db.users.deleteOne({ name: "Bob" })
db.users.deleteMany({ age: { $lt: 20 } })

🔍 Requêtes utiles
---------------------
db.users.find({ name: /a/i })
db.users.find({ $or: [{ age: 25 }, { age: 30 }] })
db.users.find().sort({ age: -1 })
db.users.find().limit(5)

🛠️ Index
---------------------
db.users.createIndex({ name: 1 })
db.users.getIndexes()

⚙️ Utilitaires
---------------------
cls
it
load("script.js")

🧠 Types BSON utiles
---------------------
ObjectId()        // _id: ObjectId("...")
ISODate()         // createdAt: ISODate()
NumberInt()       // age: NumberInt(30)
Date()            // new Date("2023-01-01")
